ุชูุฑูู:

ุฃูุดุฆ 3 ูุณุชุฎุฏููู (dev, ops, tester).

ุงุนูู ูุฌูุฏ ูุดุชุฑู ุจูููู ููุฒูุน ุงูุตูุงุญูุงุช.

ุดุบูู ุฎุฏูุฉ nginx ูุชุฃูุฏ ุฅููุง ุชุดุชุบู ูุน systemctl.


. ุฅูุดุงุก ุงููุณุชุฎุฏููู 

    sudo useradd dev

    sudo useradd ops

    sudo useradd tester


ูููู ููุงู ุชุนูู ุจุงุณูุฑุฏ ููู ูุงุญุฏ: 

    sudo passwd dev

    sudo passwd ops

    sudo passwd tester

2. ุฅูุดุงุก ูุฌูุฏ ูุดุชุฑู ุจูููู

ูุนูู ูุฌูุฏ ููููู /shared:

    sudo mkdir /shared

    ูุนูู ุฌุฑูุจ ุฌุฏูุฏ ุนูุดุงู ูููู ูุดุชุฑู ุจูููู:

    sudo groupadd project-team

    ูุถูู ุงููุณุชุฎุฏููู ููุฌุฑูุจ:

    sudo usermod -aG project-team dev

    sudo usermod -aG project-team ops

    sudo usermod -aG project-team tester

    ูุฎูู ุงููุฌูุฏ ููู ููุฌุฑูุจ:

    sudo chown :project-team /shared

    ูุฏู ุตูุงุญูุงุช ุจุญูุซ ุฃู ุนุถู ูู ุงูุฌุฑูุจ ููุฑุฃ ูููุชุจ:

    sudo chmod 770 /shared

(ุฏู ูุนูุงู: ุงููุงูู + ุงูุฌุฑูุจ ุนูุฏูู read/write/executeุ ูุงูุจุงูู ูููุด ุตูุงุญูุงุช).
3. ุชุดุบูู ุฎุฏูุฉ Nginx
ุชุซุจูุช Nginx (ูู ูุด ููุฌูุฏ):

Ubuntu/Debian:

    sudo apt update

    sudo apt install nginx -y

CentOS/RHEL:

    sudo yum install epel-release -y

    sudo yum install nginx -y

ุชุดุบูู ุงูุฎุฏูุฉ:

    sudo systemctl start nginx

ุชุฃูุฏ ุฅููุง ุดุบุงูุฉ:

    sudo systemctl status nginx

ุฎูููุง ุชุดุชุบู ุฃูุชููุงุชูู ูุน ุงูุฅููุงุน:

    sudo systemctl enable nginx

4. ุงุฎุชุจุงุฑ ุงูุฎุฏูุฉ

ุงูุชุญ ุงููุชุตูุญ ุนูู ุงูุณูุฑูุฑ:

http://localhost

ุฃู ูู ุณูุฑูุฑ ุนูู ุดุจูุฉ:
http://<server-ip

ูุชูุงูู ุตูุญุฉ Nginx ุงูุงูุชุฑุงุถูุฉ.
__________________________________________________________
ูู ููููุณ ุนูุฏู ูุฐุง ุทุฑููุฉ ููุชุจุฏูู ุจูู ุงููุณุชุฎุฏูููุ ูุดุฑุญูู ุฃูููู:
๐น 1. ุจุงุณุชุฎุฏุงู su (switch user)

ูู ุงูุช ุฏูููุชู ุนุงูู login ููุณุชุฎุฏู ูุซูุงู ahmed ูุนุงูุฒ ุชุฏุฎู ุนูู ุญุณุงุจ dev:

    su - dev

    ุจุนุฏ ูุง ุชุฏุฎู ุงูุจุงุณูุฑุฏ ุจุชุงุน devุ ูุชุชุญูู ูุฌูุณุฉ ุฌุฏูุฏุฉ ุชุฎุตู ุจุงููุงูู.

    ุนูุงูุฉ - ูุนูุงูุง ุฅูู ููุงุฎุฏ environment variables ุจุชุงุนุฉ dev (ุฒู ูุฃูู ุณุฌูุช ุฏุฎูู ุฌุฏูุฏ).

ููุฎุฑูุฌ ูุงูุฑุฌูุน ูููุณุชุฎุฏู ุงูุฃุตูู:

    exit


๐น 2. ุจุงุณุชุฎุฏุงู sudo -i -u

ูู ุงููุณุชุฎุฏู ุงูุญุงูู ุนูุฏู ุตูุงุญูุงุช sudo (ูุซูุงู ุงูุช root ุฃู ูุณุชุฎุฏู ูู sudoers):

    sudo -i -u dev

ุฏู ูููุชุญ shell ูุฃูู ุฏุงุฎู dev ูู ุงูุฃูู.


๐น 3. ูุชุญ ุฌูุณุฉ ุฌุฏูุฏุฉ ูู ุบูุฑ ูุง ุชุณูุจ ุงููุฏููุฉ

ูู ูุด ุนุงูุฒ ุชุฎุฑุฌ ูู ุงููุณุชุฎุฏู ุงูุญุงููุ ูููู ุชุนูู:


    su dev
_____________________________________________________________________________________________
ุจุฏู ูุง ุชุนูู ูู ูุงุญุฏ ููุญุฏูุ ุชูุฏุฑ ุชูุชุจ ูู ุณุทุฑ ูุงุญุฏ:


    sudo groupadd project-team

    sudo useradd -m -G project-team dev

    sudo useradd -m -G project-team ops

    sudo useradd -m -G project-team tester

    ููุง ุนูููุง ุงูุฌุฑูุจ project-team

    ูุถููุง ูู ูุณุชุฎุฏู ููุฌุฑูุจ ูุจุงุดุฑุฉ ููุช ุงูุฅูุดุงุก (-G project-team)

    ุงูุฎูุงุฑ -m ุจูุนูู ูููุณุชุฎุฏู ูุฌูุฏ home ุชููุงุฆู.

๐น ุชุนุฏูู ุฌุฑูุจ ุฃูุชุฑ ูู ูุณุชุฎุฏู ูุฑุฉ ูุงุญุฏุฉ

ูู ูุงููุง ููุฌูุฏูู ุฃุตูุงู ูุนุงูุฒ ุชุถูููู ููุฌุฑูุจ ุฏูุนุฉ ูุงุญุฏุฉ:

    sudo usermod -aG project-team dev ops tester

๐น ุนูู ุงููุฌูุฏ ุงููุดุชุฑู ูุชูุฒูุน ุงูุตูุงุญูุงุช ุจุณุฑุนุฉ

    sudo mkdir /shared

    sudo chown :project-team /shared

    sudo chmod 2770 /shared

โก ููุงุญุธุงุช:

    2770 ุจุฏู 770 โ ุงูุฑูู 2 ุฏู ูุนูุงู ุชุดุบูู setgid ุนูู ุงููุฌูุฏุ ูุฏู ุจูุฎูู ุฃู ููู ุฌุฏูุฏ ูุชุนูู ุฌูู /shared ูุจูู ุชููุงุฆููุง ุจููุณ ุงูุฌุฑูุจ project-teamุ ุจุฏู ูุง ููุฑุซ ุฌุฑูุจ ุตุงุญุจ ุงูููู. (ุญุงุฌุฉ ุนูููุฉ ุฌุฏูุง).


๐น ุฅูุดุงุก ูุณุชุฎุฏููู ุจููุฏ ูุงุญุฏ (loop)

ูู ุนูุฏู ุฃุณูุงุก ูุชูุฑ ููุด ุนุงูุฒ ุชูุชุจ ูู ูุฑุฉ:


    for user in dev ops tester; do

    sudo useradd -m -G project-team $user
    
    echo "$user:1234" | sudo chpasswd   # ูุฏู ุจุงุณูุฑุฏ ุงูุชุฑุงุถู 1234
    done


๐น ุฃุณุฑุน ุทุฑููุฉ ููุชุจุฏูู ุจูู ุงููุณุชุฎุฏููู

ุจุฏู ูุง ุชูุชุจ su - user ูู ูุฑุฉุ ุชูุฏุฑ ุชูุชุจ alias ูู .bashrc ุจุชุงุนู:
ูุซูุงู:

    alias sdev='sudo -i -u dev'

    alias sops='sudo -i -u ops'

    alias stester='sudo -i -u tester'

ูุชุนูู:

    source ~/.bashrc

ุจุนุฏูุง ุจูุฌุฑุฏ ุชูุชุจ:

    sdev

ุชุฏุฎู ุนูู dev ุนูู ุทูู ๐

